// This program controls a stepper motor using the ULN2003 motor driver module with a joystick.
// The main theme is analog input controlling digital output.

// Include the Arduino Stepper Library
#include <Stepper.h>

// Define Constants
const float SPR = 32; // Number of steps per internal motor revolution
const float GR = 64; // Amount of gear reduction
const float SPOR = SPR * GR; // Number of steps per geared output rotation

int StepsR; // Variable to store the required steps for the motor movement
int Joy = 0; // Analog pin connected to the joystick
int Read; // Variable to store the joystick value
Stepper steppermotor(SPR, 8, 10, 9, 11); // Create a Stepper object

void setup() {
  Serial.begin(9600); // Initialize serial communication
}

void loop() {
  Read = analogRead(Joy); // Read the joystick value from the analog pin
  Serial.println(Read); // Print the joystick 

  // Determine motor movement based on joystick value
  if (Read > 520) {
    StepsR = SPOR / 2; // Set steps for motor movement
    steppermotor.setSpeed(700); // Set motor speed
    steppermotor.step(StepsR); // Move the motor
  }
}
